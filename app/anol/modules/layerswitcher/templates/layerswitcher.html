<h4>Background Layers</h4>
<div ng-if="layer.get('displayInLayerswitcher') !== false"
     ng-repeat="layer in backgroundLayers">
     <!-- double $parent cause ng-if and ng-repeat create own closed scopes -->
    <input type="radio" ng-model="$parent.$parent.backgroundLayer" ng-value="layer">
    {{ layer.get('title') }}
</div>
<h4>Overlay Layers</h4>
<div ng-if="layer.get('displayInLayerswitcher') !== false"
     ng-repeat="layer in overlayLayers">
    <span class="glyphicon"
          ng-class="{'glyphicon-eye-open': layer.getVisible(), 'glyphicon-eye-close': !layer.getVisible()}"
          ng-click="layer.setVisible(!layer.getVisible())">
    </span>
    {{ layer.get('title') }}
    <span ng-if="layer.get('isBackground') === true" class="glyphicon glyphicon-paperclip"></span>
</div>